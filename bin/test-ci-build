#!/usr/bin/env sh

npm run dev-setup &&
npm run lint &&
npm run test-cov &&
npm run lint-cov || exit 1

# https://circleci.com/docs/environment-variables
if [ -n "$CI" ]; then
  echo "sending lcov data to coveralls.io"
  cat coverage/lcov.info | coveralls
  echo "sending lcov data to codeclimate"
  codeclimate < coverage/lcov.info
fi
